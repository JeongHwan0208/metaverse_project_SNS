<%- include('head.ejs') -%>
<!-- End of head -->

<%- include('header.ejs') -%>
<!-- End of header -->

<!-- 
    게시글 작성하기
    1. 제목, 코드, 결과값, 태그를 입력하면 DB에 저장, postDetails에 불러올 수 있어야 함.
    2. 작성자 정보와 게시글 정보를 DB에 저장 -> DB 설계
    3. '작성하기' 버튼 추가
-->

<div class="writingPostBox alignment">
    <div class="emptyBox"></div>
    <div class="writingPost">
        <form action="/writingPost" method="post">
            <label for="filename">File Name:</label>
            <input type="text" id="filename" name="filename" value="<%= filename %>" required><br><br>
            <!-- 이전에 입력한 제목, 태그, 내용, 코드, 입력 값 유지 -->
            <input type="text" id="title" name="title" value="<%= title %>" placeholder="제목">
            <input type="text" id="hashtags" name="hashtags" value="<%= hashtags %>" placeholder="태그">
            <textarea id="content" name="content" rows="9" placeholder="내용"><%= content %></textarea>
            <select id="language" name="language" required>
                <option value="python">Python</option>
                <option value="c">C</option>
            </select><br><br>
            <textarea id="code" name="code" rows="9" placeholder="코드" required><%= code %></textarea>
            <textarea id="input" name="input" rows="5" cols="50"><%= input %></textarea><br><br>
            <h2>Result:</h2>
            <% if (result !== null) { %>
            <pre><%= result %></pre>
            <% } else { %>
            <p>No result yet.</p>
            <% } %>
            <div class="writingBT">
                <button type="submit" name="action" value="compile">Compile</button>
                <button type="submit" name="action" value="post">작성하기</button>
            </div>
        </form>
    </div>
    <div class="emptyBox"></div>
</div>

<!-- Start of footer -->
<%- include('footer.ejs') -%>
